<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fukusuke Sushi Delivery</title>
    <link rel="stylesheet" href="/src/login.css" />
  </head>
  <body>
    
    <header class="header">
      <img src="https://tse2.mm.bing.net/th/id/OIP.MsG43BQ-GPPHFNDSV7a84QHaHa?rs=1&pid=ImgDetMain&o=7&rm=3" alt="Logo Fukusuke" class="logo"/>
      <h1>Fukusuke Sushi Delivery</h1>
      <nav>
        <a href="#">Inicio</a>
        <a href="#">Menú</a>
        <a href="#">Contacto</a>
        <a href="#" id="login-link">Inicio de sesión</a>
        <!-- Carrito de compra -->
        <span id="carrito" style="position:relative; margin-left:20px; cursor:pointer;" title="Carrito de compra">
          🛒
          <span id="contador-carrito" style="position:absolute; top:-8px; right:-12px; background:red; color:white; border-radius:50%; padding:2px 6px; font-size:12px;">0</span>
        </span>
      </nav>
    </header>
    <div class="banner-foto">
      <img src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=1200&q=80" alt="Banner Sushi Delivery">
      <div class="banner-texto">
        <span>¡Envío gratis en pedidos mayores a $50.000! | Promoción: 2x1 en Sushi Clásico todos los miércoles</span>
      </div>
    </div>
    <main>
      <section class="bienvenida">
        <h2>¡Bienvenido!</h2>
        <p>Disfruta el mejor sushi en la comodidad de tu hogar. Elige entre nuestros productos frescos y deliciosos.</p>
      </section>
      <section class="productos">
        <h2>Nuestros Productos</h2>
        <div class="productos-grid">
          <div class="producto-card">
            <img src="https://images.unsplash.com/photo-1467003909585-2f8a72700288?auto=format&fit=crop&w=400&q=80" alt="Sushi Clásico">
            <h3>Sushi Clásico</h3>
            <p>Rollos tradicionales con salmón y aguacate.</p>
            <span class="precio">$8.000</span>
            <button>Agregar</button>
          </div>
          <div class="producto-card">
            <img src="https://tse3.mm.bing.net/th/id/OIP.xLNreHUHwsOpFvNuQrT81QHaE7?rs=1&pid=ImgDetMain&o=7&rm=3" alt="Sushi Tempura">
            <h3>Sushi Tempura</h3>
            <p>Rollos crujientes rellenos de camarón tempura.</p>
            <span class="precio">$140</span>
            <button>Agregar</button>
          </div>
          <div class="producto-card">
            <img src="https://images.unsplash.com/photo-1519864600265-abb23847ef2c?auto=format&fit=crop&w=400&q=80" alt="Sashimi Variado">
            <h3>Sashimi Variado</h3>
            <p>Selección de pescado fresco cortado en láminas.</p>
            <span class="precio">$180</span>
            <button>Agregar</button>
          </div>
          <div class="producto-card">
            <img src="https://images.unsplash.com/photo-1528715471579-d1bd0e1df0c4?auto=format&fit=crop&w=400&q=80" alt="Combo Familiar">
            <h3>Combo Familiar</h3>
            <p>Ideal para compartir, incluye 40 piezas surtidas.</p>
            <span class="precio">$450</span>
            <button>Agregar</button>
          </div>
        </div>
      </section>
    </main>
    <footer class="footer">
      <p>&copy; 2025 Fukusuke Sushi Delivery. Todos los derechos reservados.</p>
    </footer>
    <!-- Popup del carrito -->
    <div id="popup-carrito" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:white; border:2px solid #333; border-radius:8px; box-shadow:0 2px 10px rgba(0,0,0,0.2); padding:24px; z-index:1000; min-width:300px;">
      <h2>Carrito de compra</h2>
      <ul id="lista-carrito" style="padding-left:18px;"></ul>
      <p id="total-carrito" style="font-weight:bold;"></p>
      <button onclick="cerrarPopupCarrito()" style="margin-top:12px;">Cerrar</button>
    </div>
    <div id="popup-fondo" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.3); z-index:999;" onclick="cerrarPopupCarrito()"></div>
    <script type="module" src="/src/main.js"></script>
    <!-- Modal de inicio de sesión -->
    <div id="login-modal">
      <div class="login-modal-content">
        <button id="close-login">&times;</button>
        <h2>Iniciar Sesión</h2>
        <form>
          <div>
            <label for="email">Correo electrónico:</label>
            <input type="email" id="email" name="email" required />
          </div>
          <div>
            <label for="password">Contraseña:</label>
            <input type="password" id="password" name="password" required />
          </div>
          <button type="submit">Entrar</button>
        </form>
      </div>
    </div>
    <script>
      // Mostrar el modal al hacer clic en "Inicio de sesión"
      document.getElementById('login-link').onclick = function(e) {
        e.preventDefault();
        document.getElementById('login-modal').style.display = 'flex';
      };
      // Cerrar el modal al hacer clic en la X
      document.getElementById('close-login').onclick = function() {
        document.getElementById('login-modal').style.display = 'none';
      };
      // Cerrar el modal al hacer clic fuera del formulario
      document.getElementById('login-modal').onclick = function(e) {
        if (e.target === this) {
          this.style.display = 'none';
        }
      };

      // Validación de contraseña
      document.querySelector('#login-modal form').onsubmit = function(e) {
        const password = document.getElementById('password').value;
        // Al menos 6 caracteres, una mayúscula y un símbolo
        const regex = /^(?=.*[A-Z])(?=.*[\W_]).{6,}$/;
        if (!regex.test(password)) {
          alert('La contraseña debe tener al menos 6 caracteres, una mayúscula y un símbolo.');
          e.preventDefault();
          return false;
        }
      };
    </script>
    <script>
      // Carrito de compra básico
      let carrito = [];

      // Lista de productos con precios
      const productos = [
        { nombre: "Sushi Clásico", precio: 120 },
        { nombre: "Sushi Tempura", precio: 140 },
        { nombre: "Sashimi Variado", precio: 180 },
        { nombre: "Combo Familiar", precio: 450 }
      ];

      document.addEventListener('DOMContentLoaded', () => {
        const botonesAgregar = document.querySelectorAll('.producto-card button');
        botonesAgregar.forEach((btn, idx) => {
          btn.addEventListener('click', () => {
            carrito.push(idx); // Guarda el índice del producto
            document.getElementById('contador-carrito').textContent = carrito.length;
          });
        });

        document.getElementById('carrito').addEventListener('click', mostrarPopupCarrito);
      });

      function mostrarPopupCarrito() {
        const lista = document.getElementById('lista-carrito');
        lista.innerHTML = '';
        let total = 0;
        if (carrito.length === 0) {
          lista.innerHTML = '<li>El carrito está vacío.</li>';
        } else {
          carrito.forEach(idx => {
            const prod = productos[idx];
            const item = document.createElement('li');
            item.textContent = `${prod.nombre} - $${prod.precio}`;
            lista.appendChild(item);
            total += prod.precio;
          });
        }
        document.getElementById('total-carrito').textContent = 'Total: $' + total;
        document.getElementById('popup-carrito').style.display = 'block';
        document.getElementById('popup-fondo').style.display = 'block';
      }

      function cerrarPopupCarrito() {
        document.getElementById('popup-carrito').style.display = 'none';
        document.getElementById('popup-fondo').style.display = 'none';
      }
    </script>
  </body>
</html>

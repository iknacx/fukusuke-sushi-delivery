<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administración - Fukusuke Sushi</title>
    <link rel="stylesheet" href="/src/global.css">
    <link rel="stylesheet" href="/src/admin/styles.css">
</head>
  <body>
    <header class="header">
      <img src="https://tse2.mm.bing.net/th/id/OIP.MsG43BQ-GPPHFNDSV7a84QHaHa?rs=1&pid=ImgDetMain&o=7&rm=3" alt="Logo Fukusuke" class="logo"/>
      <h1>Fukusuke Sushi Delivery - Admin</h1>
      <nav>
        <a href="index.html">Inicio</a>
        <a href="menu.html">Menú</a>
        <a href="contacto.html">Contacto</a>
        <a href="admin.html" class="admin-link active">Admin</a>
      </nav>
      
      <!-- Botón hamburguesa para móvil -->
      <button class="menu-toggle" onclick="toggleMobileMenu()">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </header>
    
    <!-- Menú móvil overlay -->
    <div class="mobile-menu-overlay" onclick="closeMobileMenu()"></div>
    
    <!-- Menú móvil -->
    <div class="mobile-menu" id="mobile-menu">
      <nav>
        <a href="index.html" onclick="closeMobileMenu()">Inicio</a>
        <a href="menu.html" onclick="closeMobileMenu()">Menú</a>
        <a href="contacto.html" onclick="closeMobileMenu()">Contacto</a>
        <a href="admin.html" onclick="closeMobileMenu()">Admin</a>
      </nav>
    </div>

    <div class="banner-foto">
      <img src="https://images.unsplash.com/photo-1579584425555-c3ce17fd4351?w=1200&h=400&fit=crop" alt="Panel de Administración Fukusuke">
      <div class="banner-texto">
        <span>Panel de Administración - Gestión de Productos y Pedidos</span>
      </div>
    </div>    <main>
        <div class="admin-container">
            <div class="admin-sidebar">
                <button class="tab-button active" data-tab="productos">Productos</button>
                <button class="tab-button" data-tab="pedidos">Pedidos</button>
                <button class="tab-button" data-tab="usuarios">Usuarios</button>
                <button class="tab-button" data-tab="menu">Menú</button>
            </div>

            <div class="admin-content">
                <div id="productos" class="tab-content active">
                    <h2>Gestión de Productos</h2>
                    <button id="agregarProducto" class="btn-primary">Agregar Producto</button>
                    <div class="productos-lista"></div>
                </div>

                <div id="pedidos" class="tab-content">
                    <h2>Pedidos</h2>
                    <div class="busqueda-container">
                        <div class="busqueda-grupo">
                            <input type="text" id="buscarPedido" placeholder="Buscar por cliente o número de pedido...">
                            <button class="btn-buscar" onclick="buscarPedidos()">
                                🔍
                            </button>
                        </div>
                        <div class="filtros-pedidos">
                            <select id="filtroEstado" onchange="filtrarPedidos()">
                                <option value="todos">Todos los estados</option>
                                <option value="pendiente">Pendiente</option>
                                <option value="en_proceso">En Proceso</option>
                                <option value="entregado">Entregado</option>
                            </select>
                            <input type="date" id="filtroFecha" onchange="filtrarPedidos()">
                        </div>
                    </div>
                    <div class="pedidos-lista">
                        <p>No hay pedidos pendientes</p>
                    </div>
                </div>

                <div id="usuarios" class="tab-content">
                    <h2>Gestión de Usuarios</h2>
                    <div class="usuarios-header">
                        <button id="agregarUsuario" class="btn-primary">Agregar Usuario</button>
                        <div class="filtros-usuarios">
                            <select id="filtroTipoUsuario" onchange="filtrarUsuarios()">
                                <option value="todos">Todos los tipos</option>
                                <option value="admin">Administradores</option>
                                <option value="moderador">Moderadores</option>
                                <option value="cliente">Clientes</option>
                            </select>
                            <select id="filtroEstadoUsuario" onchange="filtrarUsuarios()">
                                <option value="todos">Todos los estados</option>
                                <option value="activo">Activos</option>
                                <option value="inactivo">Inactivos</option>
                            </select>
                        </div>
                    </div>
                    <div class="usuarios-lista">
                        <p>Cargando usuarios...</p>
                    </div>
                </div>

                <div id="menu" class="tab-content">
                    <h2>Configuración del Menú</h2>
                    <div class="menu-config">
                        <!-- El contenido se generará dinámicamente -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal para agregar/editar productos -->
    <div id="productoModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Agregar Producto</h2>
            <form id="productoForm">
                <div class="form-group">
                    <label for="nombre">Nombre:</label>
                    <input type="text" id="nombre" required>
                </div>
                <div class="form-group">
                    <label for="descripcion">Descripción:</label>
                    <textarea id="descripcion" required></textarea>
                </div>
                <div class="form-group">
                    <label for="precio">Precio:</label>
                    <input type="number" id="precio" required>
                </div>
                <div class="form-group">
                    <label for="imagen">URL de la imagen:</label>
                    <input type="url" id="imagen" required>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="destacado">
                        Producto destacado
                    </label>
                </div>
                <button type="submit" class="btn-primary">Guardar</button>
            </form>
        </div>
    </div>

    <!-- Modal para agregar/editar usuarios -->
    <div id="usuarioModal" class="modal">
        <div class="modal-content">
            <span class="close-usuario">&times;</span>
            <h2 id="usuarioModalTitle">Agregar Usuario</h2>
            <form id="usuarioForm">
                <div class="form-group">
                    <label for="nombreUsuario">Nombre completo:</label>
                    <input type="text" id="nombreUsuario" required>
                </div>
                <div class="form-group">
                    <label for="emailUsuario">Email:</label>
                    <input type="email" id="emailUsuario" required>
                </div>
                <div class="form-group">
                    <label for="telefonoUsuario">Teléfono:</label>
                    <input type="tel" id="telefonoUsuario" required>
                </div>
                <div class="form-group">
                    <label for="direccionUsuario">Dirección:</label>
                    <textarea id="direccionUsuario" required></textarea>
                </div>
                <div class="form-group">
                    <label for="tipoUsuario">Tipo de usuario:</label>
                    <select id="tipoUsuario" required>
                        <option value="">Seleccionar tipo</option>
                        <option value="cliente">Cliente</option>
                        <option value="moderador">Moderador</option>
                        <option value="admin">Administrador</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="estadoUsuario">Estado:</label>
                    <select id="estadoUsuario" required>
                        <option value="activo">Activo</option>
                        <option value="inactivo">Inactivo</option>
                    </select>
                </div>
                <button type="submit" class="btn-primary">Guardar Usuario</button>
            </form>
        </div>
    </div>

    <script type="module" src="/src/admin/main.js"></script>
    
    <script>
        // Funciones para el menú móvil (reutilizadas del main.js)
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            const overlay = document.querySelector('.mobile-menu-overlay');
            const toggle = document.querySelector('.menu-toggle');
            
            if (!mobileMenu || !overlay || !toggle) return;
            
            const isActive = mobileMenu.classList.contains('active');
            
            if (isActive) {
                // Cerrar menú
                mobileMenu.classList.remove('active');
                overlay.classList.remove('active');
                toggle.classList.remove('active');
                document.body.style.overflow = '';
            } else {
                // Abrir menú
                mobileMenu.classList.add('active');
                overlay.classList.add('active');
                toggle.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
        }

        function closeMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            const overlay = document.querySelector('.mobile-menu-overlay');
            const toggle = document.querySelector('.menu-toggle');
            
            if (!mobileMenu || !overlay || !toggle) return;
            
            mobileMenu.classList.remove('active');
            overlay.classList.remove('active');
            toggle.classList.remove('active');
            document.body.style.overflow = '';
        }
    </script>
</body>
</html>
